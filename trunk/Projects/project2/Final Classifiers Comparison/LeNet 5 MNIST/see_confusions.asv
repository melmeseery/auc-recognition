clear
clc

fid= fopen('C:\Documents and Settings\ezzat\Desktop\MNIST\t10k-images.idx3-ubyte','r');
A=fread(fid);


t=[247 
321 
326 
447 
448 
449 
511 
582 
619 
646 
674 
947 
1014 
1039 
1044 
1072 
1112 
1178 
1226 
1232 
1242 
1260 
1319 
1326 
1393 
1500 
1522 
1530 
1549 
1621 
1678 
1681 
1717 
1737 
1790 
1871 
1878 
1901 
2035 
2070 
2109 
2118 
2130 
2135 
2272 
2293 
2369 
2386 
2387 
2414 
2488 
2648 
2654 
2668 
2720 
2742 
2810 
2877 
2896 
2921 
2939 
2945 
2953 
2995 
3023 
3030 
3060 
3073 
3100 
3225 
3365 
3422 
3441 
3520 
3558 
3762 
3796 
3808 
3869 
3941 
3968 
3985 
4007 
4027 
4065 
4078 
4224 
4271 
4289 
4315 
4374 
4497 
4500 
4668 
4696 
4699 
4740 
4761 
4807 
4814 
4823 
4838 
4860 
4880 
5199 
5265 
5757 
5937 
5955 
5973 
5981 
5982 
6023 
6173 
6571 
6572 
6576 
6597 
6651 
6783 
7434 
7473 
7797 
8094 
8246 
8325 
8408 
8522 
8527 
9009 
9012 
9634 
9664 
9669 
9692 
9729 
9745 
9770 
9792 
9839 
9922 

];

d=[4 
2 
2 
4 
9 
3 
4 
8 
1 
2 
5 
8 
6 
7 
6 
3 
4 
4 
7 
9 
4 
7 
8 
7 
5 
7 
7 
8 
4 
0 
2 
3 
8 
5 
2 
2 
8 
9 
5 
7 
3 
6 
4 
6 
8 
9 
5 
4 
9 
9 
2 
9 
6 
5 
9 
9 
5 
4 
8 
3 
9 
3 
3 
6 
8 
6 
9 
1 
5 
7 
6 
6 
7 
6 
5 
6 
2 
7 
9 
4 
5 
9 
7 
7 
0 
9 
9 
5 
2 
5 
5 
8 
9 
2 
5 
6 
3 
9 
8 
6 
9 
6 
4 
0 
6 
6 
9 
5 
3 
3 
5 
5 
3 
9 
9 
1 
7 
0 
0 
1 
4 
4 
5 
2 
3 
0 
8 
8 
4 
7 
4 
0 
2 
4 
9 
5 
4 
5 
4 
2 
4 

];

as=[
];

    
start_of_row=17;
for m=1:10e3
    
    I=zeros(28,28);
    
    for n=1:28
        I(n,1:end)=A(start_of_row:start_of_row+27);
        start_of_row=start_of_row+28;
    end
    
    I=(255-double(I))/255;
    
    if(find(m==t+1))
        imwrite(I,['confused\' int2str(t(m)) '_' int2str(d(m)) '_' int2str(as(m)) '.bmp'],'bmp'); 
    end

    
end

